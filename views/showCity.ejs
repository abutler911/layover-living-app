<%- include('partials/header') %>

<!-- Header Section -->
<div class="container-fluid bg-light text-center py-5">
  <h1 class="display-4">
    <%= city.name %>, <%= city.state %>, <%= city.country %>
  </h1>
  <div class="container mt-5">
    <div class="card">
      <div class="row card-body">
        <div class="col-md-6">
          <h4>City Rating: <%= city.rating %> / 5</h4>
        </div>
        <div class="col-md-6">
          <h4>Safety Rating: <%= city.safetyRating %> / 5</h4>
        </div>
      </div>
    </div>
  </div>

  <img
    src="<%= imageUrl %>"
    alt="<%= city.name %>"
    class="img-fluid rounded header-image mt-5"
  />
</div>

<!-- Rating Section -->

<!-- Categories Section -->
<div class="container mt-5">
  <h3>Restaurants</h3>
  <div class="row">
    <% city.recommendations.filter(r => r.type ===
    'restaurant').forEach(function(recommendation) { %>
    <div class="col-md-4 mb-4">
      <div class="card h-100">
        <img
          src="<%= recommendation.imageUrl %>"
          class="card-img-top"
          alt="<%= recommendation.placeName %>"
        />
        <div class="card-body">
          <h5 class="card-title"><%= recommendation.placeName %></h5>
          <p class="card-text"><%= recommendation.description %></p>
        </div>
      </div>
    </div>
    <% }) %>
  </div>
</div>

<!-- Comments Section -->
<div class="container mt-5">
  <h3>Comments</h3>
  <ul class="list-group">
    <% city.comments.forEach(function(comment) { %>
    <li class="list-group-item">
      <%= comment.madeBy.username %>: <%= comment.text %> (<%= comment.date %>)
    </li>
    <% }) %>
  </ul>
</div>
